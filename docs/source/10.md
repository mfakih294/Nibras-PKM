# Installation and Configuration


## Installation
To install Nibras, you have one of three options:

### Quick demonstration installation

It requires two steps. First, you need to install JRE (Java runtime environment) 8 or later. Second, download the latest jar file from the releases section on Nibras PKM github page and execute the command:

`java -Dgrails.env=h2 -jar nibras.jar`

This will instruct Nibras to use h2 as its database, which requires no extra installation or configuration.

### Standard production installation

As before, you need to install JRE (Java runtime environment) 8 or later. Then download and install MySQL 5.5 or later, and finally download, extract and run the Nibras-Tomcat bundle as detailed below.


**MySQL**

To install MySQL, simply download, install it, and then configure it. You can download from the official website, or, for convenience, from [this location](http://www.khuta.org/mysql-5.5.62-win32.msi) (for Windows).

After installation, you need to run the configuration wizard, accepting the default options, and making the two below changes:

* Check on "Add to the path"
* Set the root password as "root". So you need to type the word "root" (without quotes) two times.

Then you are ready to run the batch file "create-database.bat" found in /Nibras/Database folder.




**Application server**

To launch the application server, simply download and extract the file Nibras-Tomcat.zip from the releases section on Nibras PKM GitHub page to your hard disk on **C:/**, and run the batch file "Start-Nibras.bat" found on the /Nibras-Tomcat folder.

This is the straightforward way to install Nibras on a typical computer. However, you may have other cases that needs changing Nibras configuration files, or its Nibras settings after launching it.



**Other cases**

Your environment may not match or allow the above installation, and so you may want to customize it.

**1 - MySQL already installed:**

Need to change the parameters of MySQL connection in /Nibras/Application/Tomcat/conf/context.xml; specifically changing the hostname, port, username and password.

**2- Port 80 already occupied:**

Need to change port 80 in file /Nibras/Application/Tomcat/conf/server.xml to another port e.g. 81, or 2019.

**3 - Different location to extract "Nibras.zip":**

Need to update the paths in the startup script "Start-Nibras.bat" to match the new location.
 
**4 - Different location for the repository:**

Need just to change the setting value "root.rps1.path" inside the application after running it.



### Advanced installation

If you have a supported application server e.g. Tomcat, and MySQL already installed, you just need to install the war file (from the releases section on Nibras PKM github page), and delploy it after configuring its access to the database.

Nibras uses a JNDI named db_nibras. In tomcat, you can put this tag below the tag <WatchedResource> in /conf/context.xml file:

`<Resource auth="Container"
driverClassName="com.mysql.jdbc.Driver" 
name="jdbc/db_nibras" type="javax.sql.DataSource"
url="jdbc:mysql://localhost:3306/db_nibras"
username="nibras-user" password="the-password"/>`

after chaning the username and password of the account to use to access the database.
 
 

<!-- Then, you just need to update the Nibras application itself when a new update is available. -->
1. install the database server MySQL, and create the database to be used by Nibras.
2. launch the application server Tomcat (that runs Nibras).


## Update
To update the Nibras applicatin, simply download the latest **war** file the releases page, and put it under (Nibras-path)/Tomcat/webapps, after deleting the existing nibras.war file and nibras folder.

It's better to shutdown Nibras first (clicking on Stop-Nibras.bat) before doing the upgrade.



## Access
To access the application, go to https://localhost:2019/nibras from your browser (Firefox and Chrome recommended), then enter the username: **admin** and password: **admin**.


![sign-in](./images/sign-in.jpg)


## Configuration
Aside from the configuring Tomcat and MySQL, Nibras configuration is done through the application itself, from the Setting panel, on the right of the screen.

![settings](./images/settings.jpg)


**12. First steps**
* Decide on the repository locations.
* Decide on the modules you want to use (the modules enabled by default are: notes, tasks, and resources).
* Decide on the parameters (types, statuses, contexts etc) that best reflect your information needs.



* Enter the above choices through the settings and parameters panels.

![parameters](./images/parameters.jpg)

Note: 
It's better to start with the minimal number of modules, and enable more module with time. This will speed up learning time and reduce the complexity of using it.



